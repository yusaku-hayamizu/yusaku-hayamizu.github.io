#author("2019-09-20T03:00:26+00:00","","")
[[Program]]

* [[Web]] [#k6f0a035]

Web is an application to open your contents through the Internet.

* Web Server [#a8e9acb9]

*** Ubuntu [#c0254556]

- Firewall setting~
Firstly, add firewall rules to pass HTTP/HTTPS, for example
 $ sudo ufw allow 80/tcp
 $ sudo ufw allow 443/tcp
NOTE: Don't forget to allowing SSH when you constructing your environment with remote login like Amazon EC2.
 $ sudo ufw allow 22/tcp
Enable firewall.
 $ sudo ufw enable
 $ sudo systemctl restart ufw

- Install web-related packages~
Install apache2 and PHP for using HTML and PHP-based services (e.g. PukiWiki).
 $ sudo apt-get install apache2
Create a sample file,
 $ sudo apt-get install php
 $ sudo emacs -nw /var/www/html/phpinfo.php
something like this.
 <?php
  phpinfo();
 ?>



* Basic Authentication [#nbdfed1b]
You can control web-accesses to your pages with simply using ".htaccess" and ".htpasswd". 
This authentication would be not recommended when you have root the privilege of the web-server, because you can directly edit web setting files such as "apache.conf".

This is an example of ".htaccess". &ref(htaccess_hayamizu.example,,example);

- How to create ".htpasswd"~
When you type,
 $ sudo htpasswd -nb ID PASSWARD
you will get the following text. The part of password is converted with MD5 hash-function.
 ID:$apr1$7JqxFDLM$gezHr1Fed8tMSILzG4U/J.
You just copy&pate this text to a new ".htpasswd" file in the directory which you specified in ".htaccess" file.

- Firewall setting~
You can deny/allow accesses from specific hosts by writing the following lines to your ".htaccess" file.
 Allow from localhost
 Allow from 192.168.1.1
If you want to close/open specific directories, you can write like,
 <Files ~ "^\.(htaccess|htpasswd)$">
 Deny from all
 </Files>
This secure setting would be highly recommended.
